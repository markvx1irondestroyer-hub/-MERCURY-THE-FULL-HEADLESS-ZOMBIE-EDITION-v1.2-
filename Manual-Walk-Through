ğŸ§Ÿ MERCURY: THE FULL HEADLESS ZOMBIE EDITION (v1.2)
"The Beheading was Purposeful. The Smartphone is the Crown."
This long form guide is for anyone, with Linux experience wanting manual install everyone else please refer 
Faster Install file for easier use. Follow these steps exactly to transform your 
PC into a monitor-free media server controlled entirely by your phone.
STEP 1: PREPARE THE INSTALLER
Before the "Beheading" happens, we have to create a script file on your server.
 * Open your Terminal.
 * Type this command and press Enter:
   nano install-headless.sh
   (This opens a blank blue text editor. You use this to "build" your installer).
 * Copy the code block below and paste it into that terminal window.
 * Save and Exit: Press Ctrl + O (to save), then press Enter, then press Ctrl + X (to exit).
-- COPY THIS BLOCK --
#!/bin/bash
echo "ğŸš€ Starting the Purposeful Beheading..."

# 1. System Foundation & Drivers
# This updates your computer and installs the GTX 750 drivers automatically.
sudo apt update && sudo apt upgrade -y
sudo ubuntu-drivers autoinstall

# 2. NVIDIA Persistence & Toolkit (GPU Fix)
# This keeps your graphics card "awake" so it can work without a monitor.
sudo nvidia-smi -pm 1
curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg
curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list | sed 's#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g' | sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list
sudo apt update && sudo apt-get install -y nvidia-container-toolkit
sudo nvidia-ctk runtime configure --runtime=docker

# 3. Docker Engine Setup
# This installs the "engine" that runs your media apps (Jellyfin, Sonarr, etc).
sudo apt-get install -y ca-certificates curl gnupg
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
sudo apt update && sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
sudo usermod -aG docker $USER
sudo systemctl restart docker

# 4. Mercury Environment Setup
# This creates the folders where your settings and movies will live.
mkdir -p ~/mercury/config/{jellyfin,jellyseerr,sonarr,radarr,prowlarr,qbittorrent,flaresolverr,tailscale,portainer}
sudo mkdir -p /media/linux/Expansion

# 5. Inject Master 'm' Command in order (With GUI Toggle)
# This creates short commands so you can control the server easily from your phone.
1.cat << 'EOF' >> ~/.bash_aliases
2.alias gpu='watch -n 1 nvidia-smi'
3.alias mercury='cd ~/mercury'
ADD This.. b
m() {
case $1 in
gpu)     gpu ;;
up)      cd ~/mercury && docker compose up -d ;;
ps)      docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}" ;;
reset)   cd ~/mercury && docker compose down && docker system prune -f && docker compose up -d ;;
mount)   sudo mount -a && echo "ğŸ§Ÿ Vault Refreshed." ;;
status)  ~/mercury/status.sh ;;
gui-on)  sudo systemctl set-default graphical.target && echo "âœ… GUI Restored. Reboot to see desktop." ;;
gui-off) sudo systemctl set-default multi-user.target && echo "ğŸ§Ÿ Beheaded. Reboot for Headless mode." ;;
*)       echo "Usage: m [gpu|up|ps|reset|mount|status|gui-on|gui-off]" ;;
esac
}
EOF
ğŸš« STOP B4 THIS  ------------------------------
# 6. THE PURPOSEFUL BEHEADING
# This tells the PC to stop showing a desktop and save all RAM for your movies.
    COPY THIS
sudo systemctl set-default multi-user.target
echo "ğŸ§Ÿ The Zombie is now Headless. Rebooting in 5 seconds..."
sleep 5
sudo reboot

STEP 2: ACTIVATE THE INSTALLER
Now you must tell the computer that the file you just made is a program it is allowed to run.
 * Type this command and press Enter:
   chmod +x install-headless.sh
 * Start the installation:
   ./install-headless.sh
 * What happens: Your screen will scroll with code for a few minutes. When it finishes, your PC will automatically reboot. Your monitor will go black or show a login textâ€”this is normal. The Beheading is complete.
STEP 3: THE INTERNAL DRIVE TRICK (mount-vault.sh)
Immediately after the reboot, we must "lock" your external Expansion drive into the system so it never disconnects.
 * Type: nano mount-vault.sh.
 * Paste the code below into the window and save (Ctrl+O, Enter, Ctrl+X).
 * Make it run: chmod +x mount-vault.sh.
 * Run it: ./mount-vault.sh.
 * Follow the prompt: It will show you a list of drives. Look for your Expansion drive and copy the long code (UUID) next to it. Paste that code when the script asks for it.
-- COPY THIS BLOCK --
#!/bin/bash
echo "ğŸ” Searching for External Drive UUID..."
lsblk -f
echo "âš ï¸ Copy the UUID for your Expansion drive from the list above."
read -p "Enter the UUID: " UUID
sudo cp /etc/fstab /etc/fstab.bak
echo "UUID=$UUID /media/linux/Expansion auto nosuid,nodev,nofail,x-gvfs-show 0 0" | sudo tee -a /etc/fstab
sudo mount -a
echo "âœ… Expansion Drive integrated as internal storage."
ğŸš« STOP B4 THIS  ------------------------------
STEP 4: WAKING THE ZOMBIE
Now that the brain is ready and the vault is locked, wake up your media empire:
Type: m up
STEP 5: THE DIGITAL NERVE CENTER (Web UI)
Your server is now headless. Open your smartphone browser and type in your server's IP address followed by these ports to finish setup:
 * Portainer (9443): Your mobile command center to check if apps are alive.
 * Prowlarr (9696): Add your movie sites here; they sync to Radarr/Sonarr automatically.
 * Jellyseerr (5055): The one-tap request hub for your phone.
â€‹STEP 6: THE DIGITAL NERVE CENTER (Web UI)
â€‹Access these ports via your smartphone browser using your server's IP:
â€‹Portainer (9443): Your visual command center.
â€‹Prowlarr (9696): Add indexers and sync them to Sonarr/Radarr.
â€‹Jellyseerr (5055): Connect everything via API keys.
â€‹ğŸ”‘ THE MASTER API KEY GUIDE
â€‹To make your media stack work as one unit, the apps must "talk" to each other using API keys. Use this list to find every key you need.
â€‹1. Sonarr & Radarr API Keys
â€‹These keys allow Prowlarr and Jellyseerr to send movie and show requests to your downloaders.
â€‹Where to look: Open the app (Port 8989 for Sonarr / 7878 for Radarr).
â€‹Path: Go to Settings â” General.
â€‹The Key: Look for the Security section. The "API Key" is a long string of random letters and numbers.
â€‹2. Prowlarr API Key
â€‹This key is required if you want to manage Prowlarr from another app or a custom dashboard.
â€‹Where to look: Open Prowlarr (Port 9696).
â€‹Path: Go to Settings â” General.
â€‹The Key: Copy the code found in the API Key field.
â€‹3. Jellyfin API Key
â€‹This key allows Jellyseerr to see your "Watch History" and current library.
â€‹Where to look: Open Jellyfin (Port 8096).
â€‹Path: Go to Administration â” Dashboard â” Advanced â” API Keys.
â€‹Task: Click the + New API Key button and name it "Jellyseerr" to generate your code.
â€‹4. Jellyseerr API Key
â€‹Used for integrating your request hub with third-party dashboards or mobile apps.
â€‹Where to look: Open Jellyseerr (Port 5055).
â€‹Path: Go to Settings â” General.
â€‹The Key: Look for the API Key field near the top of the page.
â€‹ğŸ’¡ PRO-TIPS FOR CONFIGURATION
â€‹Copy/Paste Only: Never type these keys by hand. One wrong character will cause a "Connection Failed" error.
â€‹Test the Connection: Every app has a "Test" button next to the API Key field. Always click it until you see a green checkmark before clicking "Save".
â€‹Regenerate if Leaked: If you accidentally show your API key in a screenshot online, use the 
Regenerate button (the arrows next to the key) to create a new one immediately.
â€‹âš ï¸ Safety & Responsibility Disclaimer
â€‹While this stack is designed to be a "set-and-forget" solution, please follow these 
safety guidelines to protect your data and hardware:  
â€‹Check the Code: Always inspect scripts and command strings before running them in your terminal. 
Running unsigned code from the internet carries inherent risks; 
ensure you understand the script's actions before execution.
â€‹Do Not Unplug Active Drives: Once the "Internal Trick" (fstab mount) is active, do not unplug your 
Expansion drive while the system is powered on. 
Abruptly removing a mounted drive can cause filesystem corruption or permanent data loss.
â€‹User Responsibility: By using these scripts, you acknowledge that you are doing so at your own risk.
â€‹Final Disclaimer: The author is not responsible for any data loss, hardware issues, 
or system instability that may occur during the use of this repository.
