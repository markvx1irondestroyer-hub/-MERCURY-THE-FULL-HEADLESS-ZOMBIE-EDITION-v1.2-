â€‹ğŸ§Ÿ MERCURY: THE FULL HEADLESS ZOMBIE EDITION (v1.2)


â€‹"The Beheading was Purposeful. The Smartphone is the Crown."


â€‹This is a step-by-step manual for turning your PC into a monitor-free media server. Follow these instructions in the exact order they are listed.


â€‹STEP 1: PREPARE THE INSTALLER


â€‹Before we can run the "Beheading" script, we have to create the file on your server.




â€‹Open your Terminal.



â€‹Type this command and press Enter:
nano install-headless.sh
(This opens a blank blue screen where you can type).



â€‹Copy the entire block below (from #!/bin/bash all the way to sudo reboot) and paste it into that terminal window.


â€‹Save and Exit: Press Ctrl + O, then Enter, then Ctrl + X.




â€‹-- COPY THIS SECTION --


#!/bin/bash


echo "ğŸš€ Starting the Purposeful Beheading..."


sudo apt update && sudo apt upgrade -y


sudo ubuntu-drivers autoinstall


sudo nvidia-smi -pm 1


curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg


curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list | sed 's#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g' | sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list


sudo apt update && sudo apt-get install -y nvidia-container-toolkit


sudo nvidia-ctk runtime configure --runtime=docker


sudo apt-get install -y ca-certificates curl gnupg


sudo install -m 0755 -d /etc/apt/keyrings


curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg


sudo chmod a+r /etc/apt/keyrings/docker.gpg


echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null


sudo apt update && sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin


sudo usermod -aG docker $USER


sudo systemctl restart docker


mkdir -p ~/mercury/config/{jellyfin,jellyseerr,sonarr,radarr,prowlarr,qbittorrent,flaresolverr,tailscale,portainer}


sudo mkdir -p /media/linux/Expansion


cat << 'EOF' >> ~/.bash_aliases


alias gpu='watch -n 1 nvidia-smi'


alias mercury='cd ~/mercury'


m() {


case $1 in


gpu)Â Â Â Â  gpu ;;


up)Â Â Â Â Â  cd ~/mercury && docker compose up -d ;;


ps)Â Â Â Â Â  docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}" ;;


reset)Â Â  cd ~/mercury && docker compose down && docker system prune -f && docker compose up -d ;;


mount)Â Â  sudo mount -a && echo "ğŸ§Ÿ Vault Refreshed." ;;


status)Â  ~/mercury/status.sh ;;


gui-on)Â  sudo systemctl set-default graphical.target && echo "âœ… GUI Restored. Reboot to see desktop." ;;


gui-off) sudo systemctl set-default multi-user.target && echo "ğŸ§Ÿ Beheaded. Reboot for Headless mode." ;;


*)Â Â Â Â Â Â  echo "Usage: m [gpu|up|ps|reset|mount|status|gui-on|gui-off]" ;;


esac


}


EOF


sudo systemctl set-default multi-user.target


echo "ğŸ§Ÿ The Zombie is now Headless. Rebooting in 5 seconds..."


sleep 5


sudo reboot


-- END SECTION --


â€‹STEP 2: ACTIVATE THE INSTALLER


â€‹Now that the file exists, you must tell the computer it is allowed to run it as a program.




â€‹Type this command and press Enter:
chmod +x install-headless.sh.


â€‹Run the script by typing:
./install-headless.sh.


â€‹What happens: Your screen will fill with text as it installs. When it finishes, the computer will reboot, and the desktop screen will disappear forever.




â€‹STEP 3: LOCK THE VAULT (The Internal Drive Trick)


â€‹After the reboot, you must trick the system into holding onto your external drive so your movies don't disappear.




â€‹Type this to create the script:
nano mount-vault.sh.


â€‹Paste the code below into the window.


â€‹Save and Exit: Press Ctrl + O, then Enter, then Ctrl + X.


â€‹Make it runnable:
chmod +x mount-vault.sh.


â€‹Run it:
./mount-vault.sh.




â€‹-- COPY THIS SECTION --


#!/bin/bash


echo "ğŸ” Searching for External Drive UUID..."


lsblk -f


echo "âš ï¸ Copy the UUID for your Expansion drive from the list above."


read -p "Enter the UUID: " UUID


sudo cp /etc/fstab /etc/fstab.bak


echo "UUID=$UUID /media/linux/Expansion auto nosuid,nodev,nofail,x-gvfs-show 0 0" | sudo tee -a /etc/fstab


sudo mount -a


echo "âœ… Expansion Drive integrated as internal storage."


-- END SECTION --


â€‹STEP 4: WAKE THE ZOMBIE


â€‹Now, type this single command to start all your apps:


m up.


â€‹STEP 5: THE SMARTPHONE CONTROL CENTER


â€‹Everything is now handled through your phone browser. Use your server's IP address and these ports:




â€‹Portainer (Port 9443): Tap here to see if the server is healthy.


â€‹Jellyfin (Port 8096): Your media player. Point libraries to /data/expansion.


â€‹Radarr/Sonarr (Ports 7878/8989): Connect to qbittorrent in the settings.



