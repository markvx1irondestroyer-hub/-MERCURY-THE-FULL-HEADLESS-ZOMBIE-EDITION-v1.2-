â€‹ğŸ§Ÿ MERCURY: THE FULL HEADLESS ZOMBIE EDITION (v1.2)


â€‹"The Beheading was Purposeful. The Smartphone is the Crown."


â€‹This guide transforms your PC into a dedicated, monitor-free media server. By following these steps, you will disable the desktop interface to save RAM and enable full control via your smartphone.


â€‹STEP 1: THE PURPOSEFUL BEHEADING


â€‹Goal: Install all drivers and disable the Desktop GUI so the PC boots into a "Headless" state.




â€‹Create a new file on your PC named install-headless.sh.


â€‹Copy the code below and paste it into that file.


â€‹Open your terminal and run: chmod +x install-headless.sh


â€‹Run the script: ./install-headless.sh


â€‹What happens: The script installs NVIDIA drivers, sets the GPU to stay awake without a monitor, sets up Docker, and tells the PC to stop loading the desktop. Your PC will reboot automatically.




â€‹-- COPY START --


#!/bin/bash


echo "ğŸš€ Starting the Purposeful Beheading..."


sudo apt update && sudo apt upgrade -y


sudo ubuntu-drivers autoinstall


sudo nvidia-smi -pm 1


curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg


curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list | sed 's#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g' | sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list


sudo apt update && sudo apt-get install -y nvidia-container-toolkit


sudo nvidia-ctk runtime configure --runtime=docker


sudo apt-get install -y ca-certificates curl gnupg


sudo install -m 0755 -d /etc/apt/keyrings


curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg


sudo chmod a+r /etc/apt/keyrings/docker.gpg


echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null


sudo apt update && sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin


sudo usermod -aG docker $USER


sudo systemctl restart docker


mkdir -p ~/mercury/config/{jellyfin,jellyseerr,sonarr,radarr,prowlarr,qbittorrent,flaresolverr,tailscale,portainer}


sudo mkdir -p /media/linux/Expansion


cat << 'EOF' >> ~/.bash_aliases


alias gpu='watch -n 1 nvidia-smi'


alias mercury='cd ~/mercury'


m() {


case $1 in


gpu)Â Â Â Â  gpu ;;


up)Â Â Â Â Â  cd ~/mercury && docker compose up -d ;;


ps)Â Â Â Â Â  docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}" ;;


reset)Â Â  cd ~/mercury && docker compose down && docker system prune -f && docker compose up -d ;;


mount)Â Â  sudo mount -a && echo "ğŸ§Ÿ Vault Refreshed." ;;


status)Â  ~/mercury/status.sh ;;


gui-on)Â  sudo systemctl set-default graphical.target && echo "âœ… GUI Restored. Reboot to see desktop." ;;


gui-off) sudo systemctl set-default multi-user.target && echo "ğŸ§Ÿ Beheaded. Reboot for Headless mode." ;;


*)Â Â Â Â Â Â  echo "Usage: m [gpu|up|ps|reset|mount|status|gui-on|gui-off]" ;;


esac


}


EOF


sudo systemctl set-default multi-user.target


echo "ğŸ§Ÿ The Zombie is now Headless. Rebooting in 5 seconds..."


sleep 5


sudo reboot


-- COPY END --


â€‹STEP 2: THE INTERNAL DRIVE TRICK


â€‹Goal: Trick Linux into treating your USB drive as a permanent internal drive so your movies don't "disappear" after a reboot.




â€‹Create a file named mount-vault.sh.


â€‹Copy the code below into it.


â€‹Run: chmod +x mount-vault.sh then ./mount-vault.sh


â€‹What happens: The script asks for your drive's ID (UUID) and locks it into the system's core boot table. This ensures the "Vault" is ready before Jellyfin even starts.




â€‹-- COPY START --


#!/bin/bash


echo "ğŸ” Searching for External Drive UUID..."


lsblk -f


echo "âš ï¸ Copy the UUID for your Expansion drive."


read -p "Enter the UUID: " UUID


sudo cp /etc/fstab /etc/fstab.bak


echo "UUID=$UUID /media/linux/Expansion auto nosuid,nodev,nofail,x-gvfs-show 0 0" | sudo tee -a /etc/fstab


sudo mount -a


echo "âœ… Expansion Drive integrated as internal storage."


-- COPY END --


â€‹STEP 3: WAKING THE ZOMBIE


â€‹Now that the server is headless, type this single command to start your media apps:


m up


â€‹STEP 4: THE DIGITAL NERVE CENTER (Setup Guide)


â€‹Your server has no screen now. Open your smartphone browser, type in your server's IP address, and use these ports to finish the setup:




â€‹Portainer (Port 9443): Your visual dashboard. Use this to see if your apps are running.


â€‹Jellyfin (Port 8096): Point your "Movie Library" to /data/expansion.


â€‹Prowlarr (Port 9696): Add your torrent sites here.


â€‹Radarr/Sonarr (Ports 7878/8989): Connect them to qBittorrent using the hostname qbittorrent.


â€‹Jellyseerr (Port 5055): Connect everything here using API Keys found in the other apps' settings.




â€‹ğŸ“’ COMMAND CHEAT SHEET




â€‹m up: Start the apps.


â€‹m status: Check drive space and GPU health from your phone.


â€‹m mount: Refresh the connection to your USB Vault.


â€‹m gui-on: Turn the desktop screen back on (requires reboot).


â€‹m gui-off: Go back to headless mode (requires reboot).



